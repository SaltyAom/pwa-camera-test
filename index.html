<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Initialize -->
        <meta http-equiv="content-type" content="text/html, charset=utf8" />
        <meta
            name="viewport"
            content="width=device-width,initial-scale=1, minimum-scale=1 , maximum-scale=1, user-scalable=no, viewport-fit=cover"
        />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

        <!-- Search Engine -->
        <title>PWA Offline Quick Start</title>
        <meta name="title" content="Camera Test" />
        <meta name="description" content="Testing Camera on PWA devices" />
        <meta name="author" content="saltyAom" />
        <!-- <link rel="icon" href="Web's icon" /> -->
        <!-- <link rel="shortcut icon" href="Web's icon" /> -->

        <!-- Open Graph -->
        <!-- <link rel="canonical" href="Your absolute web path" /> -->
        <meta property="og:title" content="Camera Test" />
        <meta
            property="og:description"
            content="Testing Camera on PWA devices"
        />
        <!-- <meta property="article:author" content="Author Name" /> -->
        <!-- <meta property="og:site_name" content="Web name" /> -->
        <!-- <meta
            property="og:image"
            content="Open graph image, absolute web path to image"
        />
        <meta property="og:image:width" content="512" />
        <meta property="og:image:height" content="512" /> -->
        <meta property="og:locale" content="en_US" />
        <meta property="og:type" content="website" />

        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="Camera Test" />
        <meta
            name="twitter:description"
            content="Testing Camera on PWA devices"
        />
        <meta name="twitter:site" content="@yourtwitteraccount" />
        <meta name="twitter:image" content="Absoulute web path to image" />
        <meta name="twitter:creator" content="@yourtwitteraccount" />

        <!-- Web App -->
        <link rel="manifest" href="assets/app/manifest.json" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="theme-color" content="Put your theem color here" />
        <script src="assets/app/js/register.js"></script>
        <!-- Delete this line if you don't want offline support -->

        <!-- MS Web App -->
        <!-- <meta name="application-name" content="App name" />
        <meta name="mssmarttagspreventparsing" content="true" />
        <meta name="msapplication-window" content="width=800;height=600" />
        <meta
            name="msapplication-navbutton-color"
            content="Put your theme Color Here"
        />
        <meta
            name="msapplication-tooltip"
            content="Text that appears when you hover over the pinned shortcut."
        /> -->

        <!-- Apple Web App -->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-title" content="Camera Test" />
        <!-- Option: default, black, black-translucent -->
        <meta
            name="apple-mobile-web-app-status-bar-style"
            content="black-translucent"
        />
        <meta name="format-detection" content="telephone=no" />
        <meta name="apple-touch-fullscreen" content="yes" />

        <!-- Apple Devices Splash Screen -->
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation:portrait)"
            href="assets/splash/iPhoneX.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation:landscape)"
            href="assets/splash/iPhoneXL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation:portrait)"
            href="assets/splash/iPhone.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation:landscape)"
            href="assets/splash/iPhoneL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation:portrait)"
            href="assets/splash/iPhone.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation:landscape)"
            href="assets/splash/iPhoneL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation:portrait)"
            href="assets/splash/iPhoneSE.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation:landscape)"
            href="assets/splash/iPhoneSEL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation:portrait)"
            href="assets/splash/iPad.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation:landscape)"
            href="assets/splash/iPadL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation:portrait)"
            href="assets/splash/iPadLarge.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation:landscape)"
            href="assets/splash/iPadLargeL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation:portrait)"
            href="assets/splash/iPadPro.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation:landscape)"
            href="assets/splash/iPadProL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation:portrait)"
            href="assets/splash/iPhoneXR.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation:landscape)"
            href="assets/splash/iPhoneXRL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation:portrait)"
            href="assets/splash/iPhoneX.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation:landscape)"
            href="assets/splash/iPhoneXL.png"
        />

        <link
            rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation:portrait)"
            href="assets/splash/iPhoneXSMax.png"
        />
        <link
            rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation:landscape)"
            href="assets/splash/iPhoneXSMaxL.png"
        />

        <style>
            * {
                box-sizing: border-box;
            }

            html,
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI',
                    Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
                    'Helvetica Neue', sans-serif;
            }

            #body {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                width: 100%;
                min-height: 100vh;
                margin: 0;
            }

            #camera {
                appearance: none;
                color: #fff;
                font-size: 21px;
                font-weight: 500;
                background-color: #007aff;
                padding: 16px 32px;
                border: 0;
                border-radius: 4px;
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
            }

            #preview {
                display: none;
                max-width: 100%;
                margin-bottom: 24px;
                border-radius: 8px;
            }
        </style>

        <script>
            const id = (id) => document.getElementById(id)

            document.addEventListener('DOMContentLoaded', () => {
                let camera = id('camera')

                camera.addEventListener(
                    'click',
                    async () => {
                        if (
                            !navigator.mediaDevices ||
                            !navigator.mediaDevices.getUserMedia
                        )
                            return (camera.innerHTML = 'Camera not supported')

                        const constraints = { video: true, audio: true }

                        const stream =
                            await navigator.mediaDevices.getUserMedia(
                                constraints
                            )

                        console.log('stream:', stream)

                        const preview = id('preview')
                        preview.srcObject = stream
                        preview.style.display = 'block'
                    },
                    {
                        passive: true
                    }
                )
            })
        </script>
    </head>
    <body id="body">
        <video id="preview" autoplay></video>

        <button id="camera">Show Camera</button>
    </body>
</html>
